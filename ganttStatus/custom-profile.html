<!DOCTYPE html>
<html style="height: 100%">
   <head>
       <meta charset="utf-8">
   </head>
   <body style="height: 100%; margin: 0">
       <div id="container" style="height: 100%"></div>
       <script type="text/javascript" src="https://www.echartsjs.com/examples/vendors/jquery/jquery.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-gl/echarts-gl.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/simplex.js"></script>
       <script type="text/javascript">
var dom = document.getElementById("container");
var myChart = echarts.init(dom);
var app = {};
option = null;

var data = [];
var dataCount = 10;
var startTime = 1555410936233;
var categories = ["手机在线 - WiFi", "手机在线 - 2G", "手机在线 - 3G", "手机在线 - 4G", "在线", "离开", "offline"];
var color = ["#d82dd4", "#42dc4a", "#dc77dc", "#365880", "#bd6d6c", "#e0bc78", "#e0474d"];

data = [{
    "name": categories[0],
    "value": [0, 1555261016000, 1555261450000],
    "itemStyle": {
        "normal": {
            "color": color[0]
        }
    }
}, {
    "name": categories[3],
    "value": [3, 1555261450000, 1555262439000],
    "itemStyle": {
        "normal": {
            "color": color[3]
        }
    }
}, {
    "name": categories[4],
    "value": [4, 1555262439000, 1555262626000],
    "itemStyle": {
        "normal": {
            "color": color[4]
        }
    }
}, {
    "name": categories[5],
    "value": [5, 1555262626000, 1555263615000],
    "itemStyle": {
        "normal": {
            "color": color[5]
        }
    }
}, {
    "name": categories[6],
    "value": [6, 1555263615000, 1555263926000],
    "itemStyle": {
        "normal": {
            "color": color[6]
        }
    }
}, {
    "name": categories[1],
    "value": [1, 1555263926000, 1555281966000],
    "itemStyle": {
        "normal": {
            "color": color[1]
        }
    }
}, {
    "name": categories[2],
    "value": [2, 1555281966000, 1555282152000],
    "itemStyle": {
        "normal": {
            "color": color[2]
        }
    }
}, {
    "name": categories[3],
    "value": [3, 1555282152000, 1555288152000],
    "itemStyle": {
        "normal": {
            "color": color[3]
        }
    }
}]

function renderItem(params, api) {
    var categoryIndex = api.value(0);
    var start = api.coord([api.value(1), categoryIndex]);
    var end = api.coord([api.value(2), categoryIndex]);
    var height = api.size([0, 1])[1] * 0.6;

    var rectShape = echarts.graphic.clipRectByRect({
        x: start[0],
        y: start[1] - height / 2,
        width: end[0] - start[0],
        height: height
    }, {
        x: params.coordSys.x,
        y: params.coordSys.y,
        width: params.coordSys.width,
        height: params.coordSys.height
    });

    return rectShape && {
        type: 'rect',
        shape: rectShape,
        style: api.style()
    };
}


option = {
    tooltip: {
        formatter: function (params) {
            return params.marker + params.name + ': ' + params.value[2] + ' ms';
        }
    },
    title: {
        text: 'QQ STATUS',
        left: 'center'
    },
    dataZoom: [{
        type: 'slider',
        filterMode: 'weakFilter',
        showDataShadow: false,
        top: 400,
        height: 10,
        borderColor: 'transparent',
        backgroundColor: '#e2e2e2',
        handleIcon: 'M10.7,11.9H9.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z', // jshint ignore:line
        handleSize: 20,
        handleStyle: {
            shadowBlur: 6,
            shadowOffsetX: 1,
            shadowOffsetY: 2,
            shadowColor: '#aaa'
        },
        labelFormatter: ''
    }, {
        type: 'inside',
        filterMode: 'weakFilter'
    }],
    grid: {
        height:300
    },
    xAxis: {
        min: 0,
        scale: true,
        axisLabel: {
            formatter: function (val) {
                return Math.max(0, val) + ' ms';
            }
        }
    },
    yAxis: {
        data: categories
    },
    series: [{
        type: 'custom',
        renderItem: renderItem,
        itemStyle: {
            normal: {
                opacity: 0.8
            }
        },
        encode: {
            x: [1, 2],
            y: 0
        },
        data: data
    }]
};;
if (option && typeof option === "object") {
    myChart.setOption(option, true);
}
       </script>
   </body>
</html>